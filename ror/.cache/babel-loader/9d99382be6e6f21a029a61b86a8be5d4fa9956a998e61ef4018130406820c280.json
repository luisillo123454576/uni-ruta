{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Personal\\\\OneDrive\\\\Escritorio\\\\rutauni-estudiante\\\\src\\\\pages\\\\LoginConductor.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport \"./LoginConductor.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginConductor() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    setError(\"\");\n    const auth = getAuth();\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      const userDoc = await getDoc(doc(db, \"users\", user.uid));\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        if (userData.rol === \"conductor\") {\n          navigate(\"/conductor\");\n        } else {\n          setError(\"No tienes permiso para ingresar aqu칤.\");\n        }\n      } else {\n        setError(\"Tu cuenta no est치 configurada correctamente.\");\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Correo o contrase침a incorrectos.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Acceso Conductores \\uD83D\\uDE97\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Correo electr\\xF3nico\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginConductor, \"Ktx5ktSKAplPJrsY5gRTpmAHqe0=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginConductor;\nexport default LoginConductor;\nvar _c;\n$RefreshReg$(_c, \"LoginConductor\");","map":{"version":3,"names":["useState","useNavigate","getAuth","signInWithEmailAndPassword","doc","getDoc","db","jsxDEV","_jsxDEV","LoginConductor","_s","email","setEmail","password","setPassword","error","setError","navigate","handleLogin","e","preventDefault","auth","userCredential","user","userDoc","uid","exists","userData","data","rol","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","_c","$RefreshReg$"],"sources":["C:/Users/Personal/OneDrive/Escritorio/rutauni-estudiante/src/pages/LoginConductor.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\nimport \"./LoginConductor.css\";\r\n\r\nfunction LoginConductor() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    const auth = getAuth();\r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n      const user = userCredential.user;\r\n\r\n      const userDoc = await getDoc(doc(db, \"users\", user.uid));\r\n\r\n      if (userDoc.exists()) {\r\n        const userData = userDoc.data();\r\n        if (userData.rol === \"conductor\") {\r\n          navigate(\"/conductor\");\r\n        } else {\r\n          setError(\"No tienes permiso para ingresar aqu칤.\");\r\n        }\r\n      } else {\r\n        setError(\"Tu cuenta no est치 configurada correctamente.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Correo o contrase침a incorrectos.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h2>Acceso Conductores 游뚱</h2>\r\n      <form onSubmit={handleLogin} className=\"login-form\">\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Correo electr칩nico\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Contrase침a\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\">Ingresar</button>\r\n        {error && <p className=\"error\">{error}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginConductor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}