{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Personal\\\\OneDrive\\\\Escritorio\\\\rutauni-estudiante\\\\src\\\\pages\\\\StudentPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Map, { Marker, Popup } from \"react-map-gl\";\nimport { db } from \"../firebase\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport \"mapbox-gl/dist/mapbox-gl.css\"; // ¬°OJO! mapbox-gl, no mapbox-gl.css directamente\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentPage() {\n  _s();\n  const [location, setLocation] = useState(null);\n  const MAPBOX_TOKEN = \"pk.eyJ1IjoibHVpczIwMDciLCJhIjoiY205eDE1aW9rMHo4eTJqcHkycjRqNXJ1YSJ9.XM2TT0CAoza6aGq0CB5Gdg\"; // <-- Pega aqu√≠ tu token\n\n  useEffect(() => {\n    const unsub = onSnapshot(collection(db, \"locations\"), snapshot => {\n      const locations = snapshot.docs.map(doc => doc.data());\n      if (locations.length > 0 && locations[0].lat && locations[0].lng) {\n        setLocation({\n          lat: locations[0].lat,\n          lng: locations[0].lng\n        });\n      }\n    });\n    return () => unsub();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Mapa de Ruta (Mapbox)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), location ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"500px\",\n        width: \"80%\",\n        margin: \"auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        initialViewState: {\n          longitude: location.lng,\n          latitude: location.lat,\n          zoom: 15\n        },\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n        mapboxAccessToken: MAPBOX_TOKEN,\n        children: [/*#__PURE__*/_jsxDEV(Marker, {\n          longitude: location.lng,\n          latitude: location.lat,\n          color: \"red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Popup, {\n          longitude: location.lng,\n          latitude: location.lat,\n          closeOnClick: false,\n          children: \"Ruta en movimiento \\uD83D\\uDCCD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Esperando ubicaci\\xF3n del conductor...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentPage, \"PTP6gujMiAtYQq3RoMoVBEZNym0=\");\n_c = StudentPage;\nexport default StudentPage;\nvar _c;\n$RefreshReg$(_c, \"StudentPage\");","map":{"version":3,"names":["React","useEffect","useState","Map","Marker","Popup","db","collection","onSnapshot","jsxDEV","_jsxDEV","StudentPage","_s","location","setLocation","MAPBOX_TOKEN","unsub","snapshot","locations","docs","map","doc","data","length","lat","lng","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","height","width","margin","initialViewState","longitude","latitude","zoom","mapStyle","mapboxAccessToken","color","closeOnClick","_c","$RefreshReg$"],"sources":["C:/Users/Personal/OneDrive/Escritorio/rutauni-estudiante/src/pages/StudentPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Map, { Marker, Popup } from \"react-map-gl\";\r\nimport { db } from \"../firebase\";\r\nimport { collection, onSnapshot } from \"firebase/firestore\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\"; // ¬°OJO! mapbox-gl, no mapbox-gl.css directamente\r\n\r\nfunction StudentPage() {\r\n  const [location, setLocation] = useState(null);\r\n\r\n  const MAPBOX_TOKEN = \"pk.eyJ1IjoibHVpczIwMDciLCJhIjoiY205eDE1aW9rMHo4eTJqcHkycjRqNXJ1YSJ9.XM2TT0CAoza6aGq0CB5Gdg\"; // <-- Pega aqu√≠ tu token\r\n\r\n  useEffect(() => {\r\n    const unsub = onSnapshot(collection(db, \"locations\"), (snapshot) => {\r\n      const locations = snapshot.docs.map(doc => doc.data());\r\n      if (locations.length > 0 && locations[0].lat && locations[0].lng) {\r\n        setLocation({\r\n          lat: locations[0].lat,\r\n          lng: locations[0].lng,\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <h2>Mapa de Ruta (Mapbox)</h2>\r\n      {location ? (\r\n        <div style={{ height: \"500px\", width: \"80%\", margin: \"auto\" }}>\r\n          <Map\r\n            initialViewState={{\r\n              longitude: location.lng,\r\n              latitude: location.lat,\r\n              zoom: 15,\r\n            }}\r\n            style={{ width: \"100%\", height: \"100%\" }}\r\n            mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n            mapboxAccessToken={MAPBOX_TOKEN}\r\n          >\r\n            <Marker longitude={location.lng} latitude={location.lat} color=\"red\" />\r\n            <Popup longitude={location.lng} latitude={location.lat} closeOnClick={false}>\r\n              Ruta en movimiento üìç\r\n            </Popup>\r\n          </Map>\r\n        </div>\r\n      ) : (\r\n        <p>Esperando ubicaci√≥n del conductor...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}